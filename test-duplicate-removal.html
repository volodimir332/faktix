<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Duplicate Removal Test</title>
    <style>
        body { font-family: Arial, sans-serif; background: #1a1a1a; color: white; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background: #2a2a2a; padding: 20px; border-radius: 10px; }
        button { background: #10b981; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 10px 5px; }
        .status { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background: #065f46; color: #d1fae5; }
        .error { background: #7f1d1d; color: #fecaca; }
        .info { background: #1e3a8a; color: #dbeafe; }
        .warning { background: #92400e; color: #fef3c7; }
        .log { background: #1f2937; padding: 10px; border-radius: 5px; font-family: monospace; font-size: 12px; max-height: 300px; overflow-y: auto; margin: 10px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üßπ Duplicate Removal Test</h1>
        <p>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –∫–ª—ñ—î–Ω—Ç—ñ–≤</p>
        
        <div class="status info">
            <strong>‚ÑπÔ∏è –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:</strong>
            <ul>
                <li>‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª—ñ–∫–∞—Ç–∏ –ø—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –∫–ª—ñ—î–Ω—Ç—ñ–≤</li>
                <li>‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ</li>
                <li>‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –¥—É–±–ª—ñ–∫–∞—Ç–∏</li>
                <li>‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤</li>
            </ul>
        </div>
        
        <button onclick="createDuplicateClients()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏</button>
        <button onclick="checkClients()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤</button>
        <button onclick="openFaktix()">–í—ñ–¥–∫—Ä–∏—Ç–∏ Faktix</button>
        <button onclick="clearLogs()">–û—á–∏—Å—Ç–∏—Ç–∏ –ª–æ–≥–∏</button>
        
        <div class="status warning">
            <strong>‚ö†Ô∏è –¢–µ—Å—Ç:</strong> –°—Ç–≤–æ—Ä—ñ—Ç—å –¥—É–±–ª—ñ–∫–∞—Ç–∏, –ø–æ—Ç—ñ–º –≤—ñ–¥–∫—Ä–∏–π—Ç–µ Faktix —ñ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤–æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è.
        </div>
        
        <div id="logContainer" class="log">
            –õ–æ–≥–∏ –∑'—è–≤–ª—è—Ç—å—Å—è —Ç—É—Ç...
        </div>
        
        <div id="status"></div>
    </div>

    <script>
        function showStatus(message, type = 'info') {
            document.getElementById('status').innerHTML = `<div class="status ${type}">${message}</div>`;
        }

        function addLog(message) {
            const logContainer = document.getElementById('logContainer');
            const timestamp = new Date().toLocaleTimeString();
            logContainer.innerHTML += `[${timestamp}] ${message}\n`;
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        function clearLogs() {
            const logContainer = document.getElementById('logContainer');
            logContainer.innerHTML = '–õ–æ–≥–∏ –æ—á–∏—â–µ–Ω–æ...\n';
        }

        function createDuplicateClients() {
            const duplicateClients = [
                {
                    id: '1',
                    name: 'Elektro MAR a.s.',
                    email: 'info@elektromar.cz',
                    street: 'V√°clavsk√° 1',
                    city: 'Praha',
                    postalCode: '11000',
                    country: 'ƒåesk√° republika',
                    ico: '12345678',
                    dic: 'CZ12345678',
                    typZivnosti: '≈òemeslnick√° ≈æivnost (80%)'
                },
                {
                    id: '2',
                    name: 'Elektro MAR a.s.',
                    email: 'info@elektromar.cz',
                    street: 'V√°clavsk√° 1',
                    city: 'Praha',
                    postalCode: '11000',
                    country: 'ƒåesk√° republika',
                    ico: '12345678',
                    dic: 'CZ12345678',
                    typZivnosti: '≈òemeslnick√° ≈æivnost (80%)'
                },
                {
                    id: '3',
                    name: 'Elektro MAR a.s.',
                    email: 'info@elektromar.cz',
                    street: 'V√°clavsk√° 1',
                    city: 'Praha',
                    postalCode: '11000',
                    country: 'ƒåesk√° republika',
                    ico: '12345678',
                    dic: 'CZ12345678',
                    typZivnosti: '≈òemeslnick√° ≈æivnost (80%)'
                },
                {
                    id: '4',
                    name: 'Volodymyr Krytskyi',
                    email: 'volodymyr@example.com',
                    street: 'Test Street 1',
                    city: 'Praha',
                    postalCode: '11000',
                    country: 'ƒåesk√° republika',
                    ico: '87654321',
                    dic: 'CZ87654321',
                    typZivnosti: 'Voln√° ≈æivnost (60%)'
                }
            ];

            localStorage.setItem('faktix-clients', JSON.stringify(duplicateClients));
            
            addLog(`‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ ${duplicateClients.length} –∫–ª—ñ—î–Ω—Ç—ñ–≤ (–∑ –¥—É–±–ª—ñ–∫–∞—Ç–∞–º–∏)`);
            addLog(`üìã –ö–ª—ñ—î–Ω—Ç–∏: ${duplicateClients.map(c => c.name).join(', ')}`);
            showStatus('‚úÖ –î—É–±–ª—ñ–∫–∞—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–æ!', 'success');
        }

        function checkClients() {
            try {
                const clients = JSON.parse(localStorage.getItem('faktix-clients') || '[]');
                addLog(`üìä –ó–Ω–∞–π–¥–µ–Ω–æ –∫–ª—ñ—î–Ω—Ç—ñ–≤: ${clients.length}`);
                
                if (clients.length > 0) {
                    clients.forEach((client, index) => {
                        addLog(`${index + 1}. ${client.name} (ID: ${client.id})`);
                    });
                } else {
                    addLog('üì≠ –ö–ª—ñ—î–Ω—Ç—ñ–≤ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                }
                
                showStatus(`üìä –ó–Ω–∞–π–¥–µ–Ω–æ ${clients.length} –∫–ª—ñ—î–Ω—Ç—ñ–≤`, 'info');
            } catch (error) {
                addLog(`‚ùå –ü–æ–º–∏–ª–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏: ${error.message}`);
                showStatus('‚ùå –ü–æ–º–∏–ª–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏', 'error');
            }
        }

        function openFaktix() {
            window.open('http://localhost:3000', '_blank');
            addLog('üåê Faktix –≤—ñ–¥–∫—Ä–∏—Ç–æ');
            showStatus('üåê Faktix –≤—ñ–¥–∫—Ä–∏—Ç–æ!', 'info');
        }

        window.onload = function() {
            addLog('üöÄ Duplicate Removal Test –≥–æ—Ç–æ–≤–∏–π!');
            addLog('üìã –û—á—ñ–∫—É–≤–∞–Ω—ñ –ª–æ–≥–∏:');
            addLog('   ‚ö†Ô∏è Duplicate client detected');
            addLog('   üßπ Removed X duplicate clients');
            addLog('   ‚úÖ No duplicate clients found');
            showStatus('üöÄ –¢–µ—Å—Ç –≥–æ—Ç–æ–≤–∏–π!', 'info');
        };
    </script>
</body>
</html>
